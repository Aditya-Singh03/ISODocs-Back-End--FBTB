package com.example.demo;
import static org.junit.jupiter.api.Assertions.assertEquals;
import org.junit.jupiter.api.Test;
import org.springframework.boot.test.context.SpringBootTest;
import com.example.Model.loginRequest;
import com.example.demo.UserRepository;
import com.example.demo.User;
import com.example.demo.LoginController;
import com.example.demo.UserController;
@SpringBootTest
public class loginTests extends UserController{
    public loginTests(UserRepository userRepository) {
        super(userRepository);
        //TODO Auto-generated constructor stub
    }
    @Test
    public void testEmptyUsername(loginRequest loginRequest) {
        assertEquals(userRepository.findByName(""), null);
    }
    @Test
    public void testEmptyPassword(loginRequest loginRequest) {
        assertEquals(userRepository.findByNameAndPassword(loginRequest.getUsername(), ""), null);
    }
    @Test
    public void testEmptyUsernameAndPassword() {
        assertEquals(userRepository.findByNameAndPassword("", ""), null);
    }
    @Test
    public void testOnlyUsername(loginRequest loginRequest) {
        assertEquals(userRepository.findByName(loginRequest.getUsername()), loginRequest.getUsername());
    }
    @Test // both password and username should correspond to a single user in the database
    public void testValidLogin(loginRequest loginRequest) {
        assertEquals(userRepository.existsByNameAndPassword(loginRequest.getUsername(), loginRequest.getPassword()), true);
    }
}